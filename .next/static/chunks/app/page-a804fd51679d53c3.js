(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9781:(e,s,t)=>{Promise.resolve().then(t.bind(t,9289))},9289:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>e2});var a=t(5155),r=t(2115),n=t(2651);let o="http://localhost:3000/api/v1";console.log("\uD83D\uDD27 API Configuration:"),console.log("\uD83D\uDCCD Base URL:",o),console.log("\uD83C\uDF0D Environment:","production"),console.log("\uD83D\uDCDD Next Public API URL:","http://localhost:3000/api/v1");let i=n.A.create({baseURL:o,timeout:6e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});i.interceptors.request.use(e=>{var s;return console.log("\uD83D\uDD0D Request Debug:"),console.log("\uD83D\uDCCD URL:",e.url),console.log("\uD83C\uDF10 Base URL:",e.baseURL),console.log("\uD83C\uDFAF Full URL:","".concat(e.baseURL).concat(e.url)),console.log("\uD83D\uDCDD Method:",null===(s=e.method)||void 0===s?void 0:s.toUpperCase()),e},e=>(console.error("❌ Request Error:",e),Promise.reject(e))),i.interceptors.response.use(e=>(console.log("✅ Response Success:",e.status,e.config.url),e),e=>{var s,t,a,r,n,o;return console.error("❌ Response Error:"),console.error("\uD83D\uDCCD URL:",null===(s=e.config)||void 0===s?void 0:s.url),console.error("\uD83C\uDF10 Base URL:",null===(t=e.config)||void 0===t?void 0:t.baseURL),console.error("\uD83C\uDFAF Full URL:","".concat(null===(a=e.config)||void 0===a?void 0:a.baseURL).concat(null===(r=e.config)||void 0===r?void 0:r.url)),console.error("\uD83D\uDCCA Status:",null===(n=e.response)||void 0===n?void 0:n.status),console.error("\uD83D\uDCC4 Response:",null===(o=e.response)||void 0===o?void 0:o.data),Promise.reject(e)});class l{static async uploadFile(e){let s=new FormData;s.append("file",e);try{console.log("\uD83D\uDE80 Starting file upload:"),console.log("\uD83D\uDCC4 File:",e.name,"Size:",e.size,"Type:",e.type),console.log("\uD83C\uDF10 Using proxy endpoint: /api/v1/scraping-batch");let t=await fetch("/api/v1/scraping-batch",{method:"POST",body:s});if(!t.ok){let e=await t.text();throw console.error("Upload failed:",t.status,e),Error("HTTP ".concat(t.status,": ").concat(e))}let a=await t.json();return console.log("Upload successful:",a),a}catch(e){var t,a,r,n,o,i,l,d;if(e.message,e.code,null===(t=e.response)||void 0===t||t.status,null===(a=e.response)||void 0===a||a.statusText,null===(r=e.response)||void 0===r||r.data,"ECONNREFUSED"===e.code||"ENOTFOUND"===e.code)throw Error("❌ Backend server is not running on port 3000. Please start your backend server with: docker-compose up --build -d");if("ECONNABORTED"===e.code)throw Error("⏱️ Upload timeout - file too large or connection slow");if((null===(n=e.response)||void 0===n?void 0:n.status)===413)throw Error("\uD83D\uDCE6 File too large");if((null===(o=e.response)||void 0===o?void 0:o.status)===415)throw Error("\uD83D\uDCC4 Invalid file type - only CSV files are allowed");else if(null===(i=e.message)||void 0===i?void 0:i.includes("HTTP 404"))throw Error("\uD83D\uDD0D Backend endpoint not found. Make sure backend is running and accessible.");else if(null===(l=e.message)||void 0===l?void 0:l.includes("CORS"))throw Error("\uD83C\uDF10 CORS Error: Backend needs CORS configuration. The backend is running but blocking browser requests.");else if(null===(d=e.message)||void 0===d?void 0:d.includes("Failed to fetch"))throw Error("\uD83D\uDD12 Connection blocked - possible CORS issue. Backend is running but not accessible from browser.");else throw Error("\uD83D\uDEAB Upload failed: ".concat(e.message))}}static async getBatchStatus(e){try{let s=await fetch("/api/v1/scraping-batch/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){if(404===s.status)throw Error("❓ Batch not found. It may have expired or been processed.");throw Error("HTTP ".concat(s.status,": Failed to fetch batch status"))}return await s.json()}catch(e){throw Error("Failed to fetch batch status: ".concat(e.message))}}static async exportCleanCSV(e){try{console.log("\uD83C\uDFAF Starting CSV export for batch:",e);let s=await i.get("/scraping-batch/".concat(e,"/export"),{responseType:"blob",headers:{Accept:"text/csv"},timeout:6e4}),t=new Blob([s.data],{type:"text/csv;charset=utf-8;"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a;let n=new Date().toISOString().slice(0,19).replace(/:/g,"-");r.download="scraping-results-".concat(n,".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),console.log("✅ CSV exported successfully")}catch(e){var s,t,a,r;if((null===(s=e.response)||void 0===s?void 0:s.status)===404)throw Error("❓ Batch not found or expired");if((null===(t=e.response)||void 0===t?void 0:t.status)===400)throw Error("\uD83D\uDEAB Batch not ready for export yet");throw Error("\uD83D\uDEAB Export failed: ".concat((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||e.message))}}static async validateCSV(e,s){return new Promise(t=>{let a=new FileReader;a.onload=e=>{var a;let r=(null===(a=e.target)||void 0===a?void 0:a.result).split("\n").filter(e=>e.trim());if(0===r.length){t({isValid:!1,errors:[s?s("csv.file_empty"):"File is empty"],warnings:[],rowCount:0,columns:[],requiredColumns:["name","address","city"],missingColumns:["name","address","city"]});return}let n=r[0].split(",").map(e=>e.trim().replace(/["']/g,"")),o=["name","address","city"];[...o];let i=[],l=[],d=o.filter(e=>!n.some(s=>s.toLowerCase().includes(e.toLowerCase())));d.length>0&&i.push(s?s("csv.required_columns_missing",{columns:d.join(", ")}):"Missing required columns: ".concat(d.join(", "))),r.length<2&&i.push(s?s("csv.minimum_rows_required"):"CSV must have at least one data row besides the header"),r.length>1001&&l.push(s?s("csv.maximum_rows_warning",{count:r.length-1}):"File has ".concat(r.length-1," rows. Maximum 1000 recommended for better performance")),r.slice(1,6).forEach((e,t)=>{let a=e.split(",");a.length!==n.length&&i.push(s?s("csv.column_mismatch",{row:t+2,actual:a.length,expected:n.length}):"Row ".concat(t+2,": Number of columns does not match header (").concat(a.length," vs ").concat(n.length,")"));let r=n.findIndex(e=>e.toLowerCase().includes("name"));r>=0&&(!a[r]||""===a[r].trim().replace(/["']/g,""))&&i.push(s?s("csv.empty_business_name",{row:t+2}):"Row ".concat(t+2,": Business name cannot be empty"))}),t({isValid:0===i.length,errors:i,warnings:l,rowCount:r.length-1,columns:n,requiredColumns:o,missingColumns:d})},a.onerror=()=>{t({isValid:!1,errors:[s?s("csv.file_read_error"):"Error reading file"],warnings:[],rowCount:0,columns:[],requiredColumns:["name","address","city"],missingColumns:["name","address","city"]})},a.readAsText(e)})}static downloadCSVTemplate(){let e=new Blob(['name,address,city,postal_code\nMcDonald\'s Bahnhofstrasse,"Bahnhofstrasse 120",Z\xfcrich,8001\nStarbucks Paradeplatz,"Paradeplatz 4",Z\xfcrich,8001\nBurger King Limmatquai,"Limmatquai 66",Z\xfcrich,8001'],{type:"text/csv;charset=utf-8;"}),s=window.URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="plantilla-scraping.csv",document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s),console.log("✅ Plantilla CSV descargada")}static async checkServicesStatus(){let e={api:{status:"unhealthy",service:"api"},redis:{status:"unhealthy",service:"redis"},worker:{status:"unhealthy",service:"worker"},lastCheck:new Date().toISOString(),error:void 0};try{let s=Date.now(),t=await fetch("/api/v1/health",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(t.ok){let a=await t.json();e.api={status:"healthy",service:"api",responseTime:"".concat(Date.now()-s,"ms"),details:a};try{let s=await fetch("/api/v1/health/redis",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.ok){let t=await s.json();e.redis={status:t.status,service:"redis",responseTime:t.responseTime,details:t}}else e.redis={status:"unhealthy",service:"redis",reason:"HTTP ".concat(s.status)}}catch(s){e.redis={status:"unhealthy",service:"redis",reason:"Connection failed"}}try{let s=await fetch("/api/v1/health/worker",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.ok){let t=await s.json();e.worker={status:t.status,service:"worker",responseTime:t.responseTime,reason:t.reason,details:t}}else e.worker={status:"unhealthy",service:"worker",reason:"HTTP ".concat(s.status)}}catch(s){e.worker={status:"unhealthy",service:"worker",reason:"Connection failed"}}}else e.api={status:"unhealthy",service:"api",reason:"HTTP ".concat(t.status),responseTime:"".concat(Date.now()-s,"ms")}}catch(s){e.error=s.message,e.api={status:"unhealthy",service:"api",reason:s.message},console.error("Error checking services:",s)}return e}static async healthCheck(){try{var e;let s=n.A.create({timeout:5e3}),t=await s.get("http://localhost:3000/health");return console.log("✅ Backend health check successful:",t.status,t.data),(null===(e=t.data)||void 0===e?void 0:e.status)==="ok"}catch(e){return console.log("\uD83D\uDD34 Backend health check failed"),console.log("Error details:",e.message),!1}}}var d=t(2317),c=t(1027),u=t(3463),m=t(9795);function p(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,m.QP)((0,u.$)(s))}let g=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),h=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:o=!1,...i}=e,l=o?d.DX:"button";return(0,a.jsx)(l,{className:p(g({variant:r,size:n,className:t})),ref:s,...i})});h.displayName="Button";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("rounded-xl border bg-card text-card-foreground shadow",t),...r})});f.displayName="Card";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("flex flex-col space-y-1.5 p-6",t),...r})});x.displayName="CardHeader";let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("font-semibold leading-none tracking-tight",t),...r})});v.displayName="CardTitle";let _=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("text-sm text-muted-foreground",t),...r})});_.displayName="CardDescription";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("p-6 pt-0",t),...r})});b.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:p("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let w=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:p("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});w.displayName="Input";var y=t(6195);let j=(0,c.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y.b,{ref:s,className:p(j(),t),...r})});N.displayName=y.b.displayName;let S=(0,c.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:p(S({variant:t}),s),...r})}var k=t(8684),D=t(3239),A=t(4857),R=t(4081),F=t(3950),T=t(8617),E=t(579);let z={en:{title:"Web Scraping Tool",subtitle:"Upload your CSV file and get enhanced business data","error.upload":"Failed to upload file. Please check the file and try again.","error.processing":"An error occurred while processing your file.",start_scraping:"Start Scraping",search_placeholder:"Search for businesses...",location_placeholder:"Enter location",city_label:"City",results_found:"results found",no_results:"No results found",error_loading:"Error loading results",loading:"Loading...",stop_scraping:"Stop Scraping",progress:"Progress",name:"Name",rating:"Rating",rating_count:"Reviews",phone:"Phone",address:"Address",website:"Website",price_range:"Price Range",category:"Category",monday_hours:"Monday",tuesday_hours:"Tuesday",wednesday_hours:"Wednesday",thursday_hours:"Thursday",friday_hours:"Friday",saturday_hours:"Saturday",sunday_hours:"Sunday",view_details:"View Details",completion_time:"Completion Time",results_statistics:"Results Statistics",success_rate:"Success Rate",processing_errors:"Processing Errors",data_quality:"Data Quality",performance_metrics:"Performance Metrics",completion_details:"Completion Details",successful_results:"Successful",failed_results:"Failed",google_errors:"Google Errors",network_errors:"Network Errors",parsing_errors:"Parsing Errors",timeout_errors:"Timeout Errors",avg_processing_time:"Avg Processing Time",total_processing_time:"Total Processing Time",complete_profiles:"Complete Profiles",partial_profiles:"Partial Profiles",missing_data:"Missing Data",invalid_format:"Invalid Format",results_breakdown:"Results Breakdown",error_breakdown:"Error Breakdown",language_selector:"Language",backend_services_status:"Backend Services Status",up:"Up",down:"Down",start_backend:"Start backend",api_running_redis_worker_unknown:"API is running but Redis/Worker status unknown.",check_docker_compose:"Check",processing_complete:"Processing Complete!",successfully_processed:"Successfully processed",businesses_with:"businesses with",success_rate_with_details:"success rate",successful:"successful",failed:"failed",view_detailed_results:"View Detailed Results","upload.title":"Upload CSV File","upload.description":"Select a CSV file containing business information to process and enhance.","upload.selectFile":"Select CSV File","upload.button":"Process File","upload.uploading":"Uploading file...",download_csv:"Download CSV",upload_another_csv:"Upload Another CSV",export_results:"Export Results","results.title":"Results","table.entries":"entries","table.search":"Search...","table.noResults":"No results found.","table.rowsPerPage":"Rows per page","table.page":"Page","table.of":"of","table.showing":"Showing","processing.status":"Processing Status","processing.progress":"Processing {completed} of {total}...","processing.button":"Processing...","error.title":"Error","error.retry":"Retry","table.input_name":"Input Name","table.found_name":"Found Name","table.input_address":"Input Address","table.found_phone":"Found Phone","table.found_website":"Found Website","table.found_on_maps":"Found on Google Maps","table.input_data":"Input","table.normalized":"Normalized","csv.file_empty":"File is empty","csv.minimum_rows_required":"CSV must have at least one data row besides the header","csv.maximum_rows_warning":"File has {count} rows. Maximum 1000 recommended for better performance","csv.column_mismatch":"Row {row}: Number of columns does not match header ({actual} vs {expected})","csv.required_columns_missing":"Missing required columns: {columns}","csv.empty_business_name":"Row {row}: Business name cannot be empty","csv.file_read_error":"Error reading file","csv.download_template":"Download CSV Template","csv.validating":"Validating...","csv.valid":"Valid","csv.invalid":"Invalid","csv.rows_data":"rows of data","csv.errors":"Errors:","csv.warnings":"Warnings:","csv.columns_detected":"Detected columns:","csv.invalid_file":"Invalid File","csv.validation_error":"Error validating file","csv.required_columns_info":"Required columns: {columns}. Optional: {optional}","csv.required_columns":"Required columns","csv.optional":"Optional","csv.utf8_support":"✓ UTF-8 support for special characters (\xe4, \xf6, \xfc, \xe9, \xe0, \xf1, etc.)","gps.latitude":"Latitude","gps.longitude":"Longitude","gps.coordinates":"GPS Coordinates","gps.view_on_maps":"View on Google Maps","processing.records_processed":"{completed} of {total} records processed","time.seconds_ago":"{seconds} seconds ago","time.minutes_ago":"{minutes} minutes ago","time.never":"Never","status.connected":"Connected","status.disconnected":"Disconnected","status.last_check":"Last check:","status.error_connecting":"Error connecting to backend","status.start_backend_instruction":"Start backend:","status.partial_services":"API running but dependent services might be disconnected","status.all_services_ok":"All services running correctly","status.degraded":"Degraded","status.response_time":"Response time","status.queue_stats":"Queue stats","status.recent_activity":"Recent activity","status.connection":"Connection","status.queue_access":"Queue Access","status.active_jobs":"Active Jobs","status.completed_jobs":"Completed","status.waiting_jobs":"Waiting","status.failed_jobs":"Failed","status.last_job_time":"Last Job Time","status.accessible":"Accessible","status.blocked":"Blocked","results.success_rate_good":"Good","results.success_rate_fair":"Fair","results.success_rate_low":"Low","results.industry_average":"Industry average: ~50%","results.complete_data_extracted":"Complete data extracted","results.no_data_found":"No data found","results.businesses_searched":"Businesses searched","results.google_maps_queries":"Google Maps queries","results.error_analysis":"Error Analysis","results.not_found_on_maps":"Not found on Google Maps","results.all_strategies_failed":"All search strategies failed","results.other_errors":"Other errors","results.success_tip":"Success rates vary by business type and location accuracy. More specific addresses typically yield better results.","results.download_clean_csv":"Download Clean CSV"},fr:{title:"Outil de Web Scraping",subtitle:"T\xe9l\xe9chargez votre fichier CSV et obtenez des donn\xe9es d'entreprise am\xe9lior\xe9es","error.upload":"\xc9chec du t\xe9l\xe9chargement du fichier. Veuillez v\xe9rifier le fichier et r\xe9essayer.","error.processing":"Une erreur s'est produite lors du traitement de votre fichier.",start_scraping:"D\xe9marrer le Scraping",search_placeholder:"Rechercher des entreprises...",location_placeholder:"Entrer l'emplacement",city_label:"Ville",results_found:"r\xe9sultats trouv\xe9s",no_results:"Aucun r\xe9sultat trouv\xe9",error_loading:"Erreur lors du chargement des r\xe9sultats",loading:"Chargement...",stop_scraping:"Arr\xeater le Scraping",progress:"Progr\xe8s",name:"Nom",rating:"Note",rating_count:"Avis",phone:"T\xe9l\xe9phone",address:"Adresse",website:"Site Web",price_range:"Gamme de Prix",category:"Cat\xe9gorie",monday_hours:"Lundi",tuesday_hours:"Mardi",wednesday_hours:"Mercredi",thursday_hours:"Jeudi",friday_hours:"Vendredi",saturday_hours:"Samedi",sunday_hours:"Dimanche",view_details:"Voir les D\xe9tails",completion_time:"Temps d'Ach\xe8vement",results_statistics:"Statistiques des R\xe9sultats",success_rate:"Taux de R\xe9ussite",processing_errors:"Erreurs de Traitement",data_quality:"Qualit\xe9 des Donn\xe9es",performance_metrics:"M\xe9triques de Performance",completion_details:"D\xe9tails d'Ach\xe8vement",successful_results:"R\xe9ussis",failed_results:"\xc9chou\xe9s",google_errors:"Erreurs Google",network_errors:"Erreurs R\xe9seau",parsing_errors:"Erreurs d'Analyse",timeout_errors:"Erreurs de D\xe9lai",avg_processing_time:"Temps de Traitement Moyen",total_processing_time:"Temps de Traitement Total",complete_profiles:"Profils Complets",partial_profiles:"Profils Partiels",missing_data:"Donn\xe9es Manquantes",invalid_format:"Format Invalide",results_breakdown:"R\xe9partition des R\xe9sultats",error_breakdown:"R\xe9partition des Erreurs",language_selector:"Langue",backend_services_status:"\xc9tat des Services Backend",up:"En marche",down:"Arr\xeat\xe9",start_backend:"D\xe9marrer le backend",api_running_redis_worker_unknown:"L'API fonctionne mais l'\xe9tat Redis/Worker est inconnu.",check_docker_compose:"V\xe9rifier",processing_complete:"Traitement Termin\xe9!",successfully_processed:"Trait\xe9 avec succ\xe8s",businesses_with:"entreprises avec",success_rate_with_details:"taux de r\xe9ussite",successful:"r\xe9ussi",failed:"\xe9chou\xe9",view_detailed_results:"Voir les R\xe9sultats D\xe9taill\xe9s","upload.title":"T\xe9l\xe9charger un Fichier CSV","upload.description":"S\xe9lectionnez un fichier CSV contenant des informations d'entreprise \xe0 traiter et am\xe9liorer.","upload.selectFile":"S\xe9lectionner un Fichier CSV","upload.button":"Traiter le Fichier","upload.uploading":"T\xe9l\xe9chargement du fichier...",download_csv:"T\xe9l\xe9charger CSV",upload_another_csv:"T\xe9l\xe9charger un Autre CSV",export_results:"Exporter les R\xe9sultats","results.title":"R\xe9sultats","table.entries":"entr\xe9es","table.search":"Rechercher...","table.noResults":"Aucun r\xe9sultat trouv\xe9.","table.rowsPerPage":"Lignes par page","table.page":"Page","table.of":"de","table.showing":"Affichage","processing.status":"Statut du traitement","processing.progress":"Traitement de {completed} sur {total}...","processing.button":"Traitement...","error.title":"Erreur","error.retry":"R\xe9essayer","table.input_name":"Nom de saisie","table.found_name":"Nom trouv\xe9","table.input_address":"Adresse de saisie","table.found_phone":"T\xe9l\xe9phone trouv\xe9","table.found_website":"Site Web trouv\xe9","table.found_on_maps":"Trouv\xe9 sur Google Maps","table.input_data":"Saisie","table.normalized":"Normalis\xe9","csv.file_empty":"Le fichier est vide","csv.minimum_rows_required":"Le CSV doit avoir au moins une ligne de donn\xe9es en plus de l'en-t\xeate","csv.maximum_rows_warning":"Le fichier a {count} lignes. Maximum 1000 recommand\xe9 pour de meilleures performances","csv.column_mismatch":"Ligne {row} : Le nombre de colonnes ne correspond pas \xe0 l'en-t\xeate ({actual} contre {expected})","csv.required_columns_missing":"Colonnes requises manquantes : {columns}","csv.empty_business_name":"Ligne {row} : Le nom de l'entreprise ne peut pas \xeatre vide","csv.file_read_error":"Erreur lors de la lecture du fichier","csv.download_template":"T\xe9l\xe9charger le Mod\xe8le CSV","csv.validating":"Validation...","csv.valid":"Valide","csv.invalid":"Invalide","csv.rows_data":"lignes de donn\xe9es","csv.errors":"Erreurs :","csv.warnings":"Avertissements :","csv.columns_detected":"Colonnes d\xe9tect\xe9es :","csv.invalid_file":"Fichier Invalide","csv.validation_error":"Erreur de validation du fichier","csv.required_columns_info":"Colonnes requises : {columns}. Optionnel : {optional}","csv.required_columns":"Colonnes requises","csv.optional":"Optionnel","csv.utf8_support":"✓ Support UTF-8 pour les caract\xe8res sp\xe9ciaux (\xe4, \xf6, \xfc, \xe9, \xe0, \xf1, etc.)","gps.latitude":"Latitude","gps.longitude":"Longitude","gps.coordinates":"Coordonn\xe9es GPS","gps.view_on_maps":"Voir sur Google Maps","processing.records_processed":"{completed} sur {total} enregistrements trait\xe9s","time.seconds_ago":"il y a {seconds} secondes","time.minutes_ago":"il y a {minutes} minutes","time.never":"Jamais","status.connected":"Connect\xe9","status.disconnected":"D\xe9connect\xe9","status.last_check":"Derni\xe8re v\xe9rification :","status.error_connecting":"Erreur de connexion au backend","status.start_backend_instruction":"D\xe9marrer le backend :","status.partial_services":"L'API fonctionne mais les services d\xe9pendants pourraient \xeatre d\xe9connect\xe9s","status.all_services_ok":"Tous les services fonctionnent correctement","status.degraded":"D\xe9grad\xe9","status.response_time":"Temps de r\xe9ponse","status.queue_stats":"Stats de la file","status.recent_activity":"Activit\xe9 r\xe9cente","status.connection":"Connexion","status.queue_access":"Acc\xe8s File","status.active_jobs":"T\xe2ches Actives","status.completed_jobs":"Termin\xe9es","status.waiting_jobs":"En Attente","status.failed_jobs":"\xc9chou\xe9es","status.last_job_time":"Temps Dernier Job","status.accessible":"Accessible","status.blocked":"Bloqu\xe9","results.success_rate_good":"Bon","results.success_rate_fair":"Correct","results.success_rate_low":"Faible","results.industry_average":"Moyenne de l'industrie : ~50%","results.complete_data_extracted":"Donn\xe9es compl\xe8tes extraites","results.no_data_found":"Aucune donn\xe9e trouv\xe9e","results.businesses_searched":"Entreprises recherch\xe9es","results.google_maps_queries":"Requ\xeates Google Maps","results.error_analysis":"Analyse des Erreurs","results.not_found_on_maps":"Non trouv\xe9 sur Google Maps","results.all_strategies_failed":"Toutes les strat\xe9gies de recherche ont \xe9chou\xe9","results.other_errors":"Autres erreurs","results.success_tip":"Les taux de r\xe9ussite varient selon le type d'entreprise et la pr\xe9cision de l'emplacement. Des adresses plus sp\xe9cifiques donnent g\xe9n\xe9ralement de meilleurs r\xe9sultats.","results.download_clean_csv":"T\xe9l\xe9charger CSV Propre"},de:{title:"Web Scraping Tool",subtitle:"Laden Sie Ihre CSV-Datei hoch und erhalten Sie erweiterte Unternehmensdaten","error.upload":"Fehler beim Hochladen der Datei. Bitte \xfcberpr\xfcfen Sie die Datei und versuchen Sie es erneut.","error.processing":"Bei der Verarbeitung Ihrer Datei ist ein Fehler aufgetreten.",start_scraping:"Scraping Starten",search_placeholder:"Nach Unternehmen suchen...",location_placeholder:"Standort eingeben",city_label:"Stadt",results_found:"Ergebnisse gefunden",no_results:"Keine Ergebnisse gefunden",error_loading:"Fehler beim Laden der Ergebnisse",loading:"Laden...",stop_scraping:"Scraping Stoppen",progress:"Fortschritt",name:"Name",rating:"Bewertung",rating_count:"Bewertungen",phone:"Telefon",address:"Adresse",website:"Website",price_range:"Preisbereich",category:"Kategorie",monday_hours:"Montag",tuesday_hours:"Dienstag",wednesday_hours:"Mittwoch",thursday_hours:"Donnerstag",friday_hours:"Freitag",saturday_hours:"Samstag",sunday_hours:"Sonntag",view_details:"Details Anzeigen",completion_time:"Abschlusszeit",results_statistics:"Ergebnisstatistiken",success_rate:"Erfolgsrate",processing_errors:"Verarbeitungsfehler",data_quality:"Datenqualit\xe4t",performance_metrics:"Leistungsmetriken",completion_details:"Abschlussdetails",successful_results:"Erfolgreich",failed_results:"Fehlgeschlagen",google_errors:"Google-Fehler",network_errors:"Netzwerkfehler",parsing_errors:"Parsing-Fehler",timeout_errors:"Timeout-Fehler",avg_processing_time:"Durchschnittliche Verarbeitungszeit",total_processing_time:"Gesamte Verarbeitungszeit",complete_profiles:"Vollst\xe4ndige Profile",partial_profiles:"Teilweise Profile",missing_data:"Fehlende Daten",invalid_format:"Ung\xfcltiges Format",results_breakdown:"Ergebnisaufschl\xfcsselung",error_breakdown:"Fehleraufschl\xfcsselung",language_selector:"Sprache",backend_services_status:"Backend-Dienste Status",up:"Aktiv",down:"Inaktiv",start_backend:"Backend starten",api_running_redis_worker_unknown:"API l\xe4uft, aber Redis/Worker-Status unbekannt.",check_docker_compose:"\xdcberpr\xfcfen",processing_complete:"Verarbeitung Abgeschlossen!",successfully_processed:"Erfolgreich verarbeitet",businesses_with:"Unternehmen mit",success_rate_with_details:"Erfolgsrate",successful:"erfolgreich",failed:"fehlgeschlagen",view_detailed_results:"Detaillierte Ergebnisse Anzeigen","upload.title":"CSV-Datei Hochladen","upload.description":"W\xe4hlen Sie eine CSV-Datei mit Unternehmensinformationen zum Verarbeiten und Verbessern aus.","upload.selectFile":"CSV-Datei Ausw\xe4hlen","upload.button":"Datei Verarbeiten","upload.uploading":"Datei wird hochgeladen...",download_csv:"CSV Herunterladen",upload_another_csv:"Weitere CSV Hochladen",export_results:"Ergebnisse Exportieren","results.title":"Ergebnisse","table.entries":"Eintr\xe4ge","table.search":"Suchen...","table.noResults":"Keine Ergebnisse gefunden.","table.rowsPerPage":"Zeilen pro Seite","table.page":"Seite","table.of":"von","table.showing":"Anzeigen","processing.status":"Verarbeitungsstatus","processing.progress":"Verarbeitung von {completed} von {total}...","processing.button":"Verarbeitung...","error.title":"Fehler","error.retry":"Wiederholen","table.input_name":"Eingabename","table.found_name":"Gefundener Name","table.input_address":"Eingabeadresse","table.found_phone":"Gefundenes Telefon","table.found_website":"Gefundene Website","table.found_on_maps":"Auf Google Maps gefunden","table.input_data":"Eingabe","table.normalized":"Normalisiert","csv.file_empty":"Datei ist leer","csv.minimum_rows_required":"CSV muss mindestens eine Datenzeile neben der Kopfzeile haben","csv.maximum_rows_warning":"Datei hat {count} Zeilen. Maximum 1000 f\xfcr bessere Leistung empfohlen","csv.column_mismatch":"Zeile {row}: Anzahl der Spalten stimmt nicht mit der Kopfzeile \xfcberein ({actual} vs {expected})","csv.required_columns_missing":"Fehlende erforderliche Spalten: {columns}","csv.empty_business_name":"Zeile {row}: Firmenname darf nicht leer sein","csv.file_read_error":"Fehler beim Lesen der Datei","csv.download_template":"CSV-Vorlage herunterladen","csv.validating":"Validierung...","csv.valid":"G\xfcltig","csv.invalid":"Ung\xfcltig","csv.rows_data":"Datenzeilen","csv.errors":"Fehler:","csv.warnings":"Warnungen:","csv.columns_detected":"Erkannte Spalten:","csv.invalid_file":"Ung\xfcltige Datei","csv.validation_error":"Fehler bei der Dateivalididierung","csv.required_columns_info":"Erforderliche Spalten: {columns}. Optional: {optional}","csv.required_columns":"Erforderliche Spalten","csv.optional":"Optional","csv.utf8_support":"✓ UTF-8-Unterst\xfctzung f\xfcr Sonderzeichen (\xe4, \xf6, \xfc, \xe9, \xe0, \xf1, usw.)","gps.latitude":"Breitengrad","gps.longitude":"L\xe4ngengrad","gps.coordinates":"GPS-Koordinaten","gps.view_on_maps":"Auf Google Maps ansehen","processing.records_processed":"{completed} von {total} Datens\xe4tzen verarbeitet","time.seconds_ago":"vor {seconds} Sekunden","time.minutes_ago":"vor {minutes} Minuten","time.never":"Niemals","status.connected":"Verbunden","status.disconnected":"Getrennt","status.last_check":"Letzte \xdcberpr\xfcfung:","status.error_connecting":"Fehler beim Verbinden mit dem Backend","status.start_backend_instruction":"Backend starten:","status.partial_services":"API l\xe4uft, aber abh\xe4ngige Dienste k\xf6nnten getrennt sein","status.all_services_ok":"Alle Dienste laufen korrekt","status.degraded":"Beeintr\xe4chtigt","status.response_time":"Antwortzeit","status.queue_stats":"Warteschlangen-Stats","status.recent_activity":"Letzte Aktivit\xe4t","status.connection":"Verbindung","status.queue_access":"Warteschlangen-Zugriff","status.active_jobs":"Aktive Jobs","status.completed_jobs":"Abgeschlossen","status.waiting_jobs":"Wartend","status.failed_jobs":"Fehlgeschlagen","status.last_job_time":"Letzte Job-Zeit","status.accessible":"Zug\xe4nglich","status.blocked":"Blockiert","results.success_rate_good":"Gut","results.success_rate_fair":"Ordentlich","results.success_rate_low":"Niedrig","results.industry_average":"Branchendurchschnitt: ~50%","results.complete_data_extracted":"Vollst\xe4ndige Daten extrahiert","results.no_data_found":"Keine Daten gefunden","results.businesses_searched":"Unternehmen durchsucht","results.google_maps_queries":"Google Maps Abfragen","results.error_analysis":"Fehleranalyse","results.not_found_on_maps":"Nicht auf Google Maps gefunden","results.all_strategies_failed":"Alle Suchstrategien fehlgeschlagen","results.other_errors":"Andere Fehler","results.success_tip":"Erfolgsraten variieren je nach Unternehmenstyp und Standortgenauigkeit. Spezifischere Adressen f\xfchren typischerweise zu besseren Ergebnissen.","results.download_clean_csv":"Bereinigte CSV Herunterladen"},it:{title:"Strumento di Web Scraping",subtitle:"Carica il tuo file CSV e ottieni dati aziendali migliorati","error.upload":"Caricamento del file non riuscito. Controlla il file e riprova.","error.processing":"Si \xe8 verificato un errore durante l'elaborazione del file.",start_scraping:"Inizia Scraping",search_placeholder:"Cerca aziende...",location_placeholder:"Inserisci posizione",city_label:"Citt\xe0",results_found:"risultati trovati",no_results:"Nessun risultato trovato",error_loading:"Errore nel caricamento dei risultati",loading:"Caricamento...",stop_scraping:"Ferma Scraping",progress:"Progresso",name:"Nome",rating:"Valutazione",rating_count:"Recensioni",phone:"Telefono",address:"Indirizzo",website:"Sito Web",price_range:"Fascia di Prezzo",category:"Categoria",monday_hours:"Luned\xec",tuesday_hours:"Marted\xec",wednesday_hours:"Mercoled\xec",thursday_hours:"Gioved\xec",friday_hours:"Venerd\xec",saturday_hours:"Sabato",sunday_hours:"Domenica",view_details:"Visualizza Dettagli",completion_time:"Tempo di Completamento",results_statistics:"Statistiche Risultati",success_rate:"Tasso di Successo",processing_errors:"Errori di Elaborazione",data_quality:"Qualit\xe0 dei Dati",performance_metrics:"Metriche di Performance",completion_details:"Dettagli di Completamento",successful_results:"Riusciti",failed_results:"Falliti",google_errors:"Errori Google",network_errors:"Errori di Rete",parsing_errors:"Errori di Parsing",timeout_errors:"Errori di Timeout",avg_processing_time:"Tempo di Elaborazione Medio",total_processing_time:"Tempo di Elaborazione Totale",complete_profiles:"Profili Completi",partial_profiles:"Profili Parziali",missing_data:"Dati Mancanti",invalid_format:"Formato Non Valido",results_breakdown:"Suddivisione Risultati",error_breakdown:"Suddivisione Errori",language_selector:"Lingua",backend_services_status:"Stato Servizi Backend",up:"Attivo",down:"Inattivo",start_backend:"Avvia backend",api_running_redis_worker_unknown:"API \xe8 in esecuzione ma stato Redis/Worker sconosciuto.",check_docker_compose:"Controlla",processing_complete:"Elaborazione Completata!",successfully_processed:"Elaborato con successo",businesses_with:"aziende con",success_rate_with_details:"tasso di successo",successful:"riuscito",failed:"fallito",view_detailed_results:"Visualizza Risultati Dettagliati","upload.title":"Carica File CSV","upload.description":"Seleziona un file CSV contenente informazioni aziendali da elaborare e migliorare.","upload.selectFile":"Seleziona File CSV","upload.button":"Elabora File","upload.uploading":"Caricamento file...",download_csv:"Scarica CSV",upload_another_csv:"Carica un Altro CSV",export_results:"Esporta Risultati","results.title":"Risultati","table.entries":"voci","table.search":"Cerca...","table.noResults":"Nessun risultato trovato.","table.rowsPerPage":"Righe per pagina","table.page":"Pagina","table.of":"di","table.showing":"Mostrando","processing.status":"Stato del processo","processing.progress":"Elaborazione di {completed} su {total}...","processing.button":"Elaborazione...","error.title":"Errore","error.retry":"Riprova","table.input_name":"Nome di input","table.found_name":"Nome trovato","table.input_address":"Indirizzo di input","table.found_phone":"Telefono trovato","table.found_website":"Sito Web trovato","table.found_on_maps":"Trovato su Google Maps","table.input_data":"Input","table.normalized":"Normalizzato","csv.file_empty":"Il file \xe8 vuoto","csv.minimum_rows_required":"Il CSV deve avere almeno una riga di dati oltre all'intestazione","csv.maximum_rows_warning":"Il file ha {count} righe. Massimo 1000 raccomandato per prestazioni migliori","csv.column_mismatch":"Riga {row}: Il numero di colonne non corrisponde all'intestazione ({actual} vs {expected})","csv.required_columns_missing":"Colonne richieste mancanti: {columns}","csv.empty_business_name":"Riga {row}: Il nome dell'azienda non pu\xf2 essere vuoto","csv.file_read_error":"Errore nella lettura del file","csv.download_template":"Scarica Modello CSV","csv.validating":"Validazione...","csv.valid":"Valido","csv.invalid":"Non Valido","csv.rows_data":"righe di dati","csv.errors":"Errori:","csv.warnings":"Avvisi:","csv.columns_detected":"Colonne rilevate:","csv.invalid_file":"File Non Valido","csv.validation_error":"Errore nella validazione del file","csv.required_columns_info":"Colonne richieste: {columns}. Opzionale: {optional}","csv.required_columns":"Colonne richieste","csv.optional":"Opzionale","csv.utf8_support":"✓ Supporto UTF-8 per caratteri speciali (\xe4, \xf6, \xfc, \xe9, \xe0, \xf1, ecc.)","gps.latitude":"Latitudine","gps.longitude":"Longitudine","gps.coordinates":"Coordinate GPS","gps.view_on_maps":"Visualizza su Google Maps","processing.records_processed":"{completed} di {total} record elaborati","time.seconds_ago":"{seconds} secondi fa","time.minutes_ago":"{minutes} minuti fa","time.never":"Mai","status.connected":"Connesso","status.disconnected":"Disconnesso","status.last_check":"Ultima verifica:","status.error_connecting":"Errore di connessione al backend","status.start_backend_instruction":"Avvia backend:","status.partial_services":"API in esecuzione ma i servizi dipendenti potrebbero essere disconnessi","status.all_services_ok":"Tutti i servizi funzionano correttamente","status.degraded":"Degradato","status.response_time":"Tempo di risposta","status.queue_stats":"Statistiche coda","status.recent_activity":"Attivit\xe0 recente","status.connection":"Connessione","status.queue_access":"Accesso Coda","status.active_jobs":"Job Attivi","status.completed_jobs":"Completati","status.waiting_jobs":"In Attesa","status.failed_jobs":"Falliti","status.last_job_time":"Tempo Ultimo Job","status.accessible":"Accessibile","status.blocked":"Bloccato","results.success_rate_good":"Buono","results.success_rate_fair":"Discreto","results.success_rate_low":"Basso","results.industry_average":"Media del settore: ~50%","results.complete_data_extracted":"Dati completi estratti","results.no_data_found":"Nessun dato trovato","results.businesses_searched":"Aziende cercate","results.google_maps_queries":"Query Google Maps","results.error_analysis":"Analisi degli Errori","results.not_found_on_maps":"Non trovato su Google Maps","results.all_strategies_failed":"Tutte le strategie di ricerca fallite","results.other_errors":"Altri errori","results.success_tip":"I tassi di successo variano in base al tipo di attivit\xe0 e alla precisione della posizione. Indirizzi pi\xf9 specifici producono tipicamente risultati migliori.","results.download_clean_csv":"Scarica CSV Pulito"}};function P(){let{language:e}=(0,E.o)();return(0,r.useMemo)(()=>({t:(s,t)=>{let a=z[e][s]||z.en[s];return t&&Object.entries(t).forEach(e=>{let[s,t]=e;a=a.replace("{".concat(s,"}"),String(t))}),a}}),[e])}function V(e){let{file:s,onFileChange:t,onProcessFile:n,isDisabled:o}=e,{t:i}=P(),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s?(m(!0),l.validateCSV(s,i).then(c).catch(e=>{console.error("Error validating CSV:",e),c({isValid:!1,errors:[i("csv.validation_error")],warnings:[],rowCount:0,columns:[],requiredColumns:["name","address","city"],missingColumns:["name","address","city"]})}).finally(()=>m(!1))):c(null)},[s,i]),(0,a.jsxs)(f,{className:"mb-8",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(v,{className:"flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"h-5 w-5"}),i("upload.title")]}),(0,a.jsxs)(_,{children:[i("upload.description"),(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[i("csv.required_columns"),": ",(0,a.jsx)("code",{children:"name"}),", ",(0,a.jsx)("code",{children:"address"}),", ",(0,a.jsx)("code",{children:"city"}),". ",i("csv.optional"),": ",(0,a.jsx)("code",{children:"postal_code"})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"text-xs text-green-600 flex items-center gap-1 mt-1",children:[(0,a.jsx)(D.A,{className:"h-3 w-3"}),i("csv.utf8_support")]})]})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(h,{variant:"outline",size:"sm",onClick:()=>{l.downloadCSVTemplate()},className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),i("csv.download_template")]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N,{htmlFor:"csv-file",children:i("upload.selectFile")}),(0,a.jsx)(w,{id:"csv-file",type:"file",accept:".csv",onChange:t,disabled:o})]}),s&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[(0,a.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",(s.size/1024).toFixed(1)," KB)"]}),u&&(0,a.jsx)("span",{className:"text-xs text-blue-600",children:i("csv.validating")})]}),d&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[d.isValid?(0,a.jsxs)(C,{className:"bg-green-100 text-green-800 border-green-200",children:[(0,a.jsx)(D.A,{className:"h-3 w-3 mr-1"}),"✅ ",i("csv.valid")]}):(0,a.jsxs)(C,{variant:"destructive",children:[(0,a.jsx)(F.A,{className:"h-3 w-3 mr-1"}),"❌ ",i("csv.invalid")]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[d.rowCount," ",i("csv.rows_data")]})]}),d.errors.length>0&&(0,a.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-800 mb-2",children:i("csv.errors")}),(0,a.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:d.errors.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),d.warnings.length>0&&(0,a.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:i("csv.warnings")}),(0,a.jsx)("ul",{className:"text-sm text-yellow-700 space-y-1",children:d.warnings.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),d.columns.length>0&&(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 inline mr-1"}),i("csv.columns_detected")]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:d.columns.map((e,s)=>(0,a.jsx)(C,{variant:"outline",className:"text-xs",children:e},s))})]})]})]}),(0,a.jsx)(h,{onClick:n,disabled:!s||o||d&&!d.isValid||!1,className:"w-full",size:"lg",children:o?i("upload.uploading"):s&&d&&!d.isValid?"❌ ".concat(i("csv.invalid_file")):i("upload.button")})]})]})}var I=t(6838);let M=r.forwardRef((e,s)=>{let{className:t,value:r,...n}=e;return(0,a.jsx)(I.bL,{ref:s,className:p("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:(0,a.jsx)(I.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});M.displayName=I.bL.displayName;var L=t(4505);function U(e){let{progress:s}=e,{t}=P(),r=s.total>0?Math.round(s.completed/s.total*100):0;return(0,a.jsxs)(f,{className:"mb-8",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(v,{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-5 w-5 animate-spin"}),t("processing.status")]}),(0,a.jsx)(_,{children:s.total>0?t("processing.progress",{completed:s.completed,total:s.total}):t("processing.button")})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:t("processing.status")}),(0,a.jsxs)("span",{children:[r,"%"]})]}),(0,a.jsx)(M,{value:r,className:"w-full"})]}),s.total>0&&(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:t("processing.records_processed",{completed:s.completed,total:s.total})})]})]})}var q=t(2598),B=t(9136),G=t(5340),W=t(853);function O(e){let{results:s}=e,{t}=P(),r=s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="success"}).length;s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="partial"}).length;let n=s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="failed"||!e.scrapedData}).length,o=s.length,i=o>0?r/o*100:0,l=s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="failed"||!e.scrapedData}).reduce((e,s)=>{var t;let a=(null===(t=s.scrapedData)||void 0===t?void 0:t.error)||s.error||"Unknown error";return a.includes("No search results")||a.includes("not found")?e.not_found=(e.not_found||0)+1:a.includes("All search strategies failed")||a.includes("strategies")?e.strategies_failed=(e.strategies_failed||0)+1:a.includes("Timeout")||a.includes("timeout")?e.timeout=(e.timeout||0)+1:e.other=(e.other||0)+1,e},{});return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{className:"pb-2",children:(0,a.jsxs)(v,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),t("success_rate")]})}),(0,a.jsxs)(b,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsxs)("span",{className:i>=70?"text-green-600":i>=50?"text-yellow-600":i>=30?"text-orange-600":"text-red-600",children:[i.toFixed(1),"%"]}),(0,a.jsx)(C,{variant:i>=70?"default":i>=50?"secondary":"destructive",className:"text-xs",children:t(i>=50?"results.success_rate_good":i>=30?"results.success_rate_fair":"results.success_rate_low")})]}),(0,a.jsx)(M,{value:i,className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t("results.industry_average")})]})]}),(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{className:"pb-2",children:(0,a.jsxs)(v,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 text-green-600"}),t("successful")]})}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o>0?"".concat((r/o*100).toFixed(0),"% of total"):"0% of total"}),(0,a.jsx)("div",{className:"mt-2 text-xs",children:(0,a.jsxs)("span",{className:"text-green-600",children:["✅ ",t("results.complete_data_extracted")]})})]})]}),(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{className:"pb-2",children:(0,a.jsxs)(v,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-red-600"}),t("failed")]})}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:n}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o>0?"".concat((n/o*100).toFixed(0),"% of total"):"0% of total"}),(0,a.jsx)("div",{className:"mt-2 text-xs",children:(0,a.jsxs)("span",{className:"text-red-600",children:["❌ ",t("results.no_data_found")]})})]})]}),(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{className:"pb-2",children:(0,a.jsxs)(v,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),t("table.entries")]})}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t("results.businesses_searched")}),(0,a.jsx)("div",{className:"mt-2 space-y-1",children:(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:t("results.google_maps_queries")}),(0,a.jsx)("span",{className:"font-medium",children:o})]})})]})]}),n>0&&(0,a.jsxs)(f,{className:"md:col-span-2 lg:col-span-4",children:[(0,a.jsx)(x,{className:"pb-2",children:(0,a.jsxs)(v,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-red-600"}),t("results.error_analysis")]})}),(0,a.jsxs)(b,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.not_found&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-red-600",children:l.not_found}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t("results.not_found_on_maps")})]}),l.strategies_failed&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-orange-600",children:l.strategies_failed}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t("results.all_strategies_failed")})]}),l.timeout&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-yellow-600",children:l.timeout}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t("timeout_errors")})]}),l.other&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-600",children:l.other}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t("results.other_errors")})]})]}),(0,a.jsx)("div",{className:"mt-3 p-2 bg-muted rounded-md",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"Tip:"})," ",t("results.success_tip")]})})]})]})]})}function H(e,s){if(!e||"object"!=typeof e)return"";for(let t of({Monday:["Monday","monday","Mon","mon"],Tuesday:["Tuesday","tuesday","Tue","tue"],Wednesday:["Wednesday","wednesday","Wed","wed"],Thursday:["Thursday","thursday","Thu","thu"],Friday:["Friday","friday","Fri","fri"],Saturday:["Saturday","saturday","Sat","sat"],Sunday:["Sunday","sunday","Sun","sun"]})[s]||[s])if(e[t])return e[t];return""}function J(e){if(!e)return"";if(e.match(/^\d{2}:\d{2}\s*[-–]\s*\d{2}:\d{2}$/))return e;if(e.includes(","))return e.split(",").map(e=>e.trim()).map(e=>{if(e.includes("-")||e.includes("–")){let s=e.includes("–")?"–":"-",[t,a]=e.split(s).map(e=>e.trim());return"".concat(Z(t)," - ").concat(Z(a))}return e}).join(" & ");if(e.includes("-")||e.includes("–")){let s=e.includes("–")?"–":"-",[t,a]=e.split(s).map(e=>e.trim());return"".concat(Z(t)," - ").concat(Z(a))}return e}function Z(e){if(!e)return"";if(e.match(/^\d{2}:\d{2}$/))return e;if(e.match(/^\d:\d{2}$/))return"0".concat(e);if(e.toLowerCase().includes("am")||e.toLowerCase().includes("pm"))try{let[s,t]=e.toLowerCase().split(/\s*(am|pm)/),[a,r]=s.split(":").map(e=>parseInt(e)),n=a;return"pm"===t&&12!==a?n+=12:"am"===t&&12===a&&(n=0),"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}catch(e){}return e}function K(e){if(!e)return"";if(e.includes(",")||e.includes('"')||e.includes("\n")||e.includes("\r")){let s=e.replace(/"/g,'""');return'"'.concat(s,'"')}return e}function $(e,s){if(!s){let e=new Date().toISOString().slice(0,19).replace(/:/g,"-");s="scraping-results-".concat(e,".csv")}let t=function(e){if(console.log("\uD83D\uDD0D Converting to CSV, results count:",e.length),console.log("\uD83D\uDCCA Sample result:",e[0]),0===e.length)return console.warn("⚠️ No results to convert to CSV"),"";let s=["Input Business Name,Input Address,Input City,Input Postal Code,Scraped Business Name,Scraped Address,Status,Phone,Rating,Reviews Count,Website,Category,Latitude,Longitude,Facebook,Instagram,Twitter,LinkedIn,YouTube,Monday Hours,Tuesday Hours,Wednesday Hours,Thursday Hours,Friday Hours,Saturday Hours,Sunday Hours,Job ID,Processing Time (ms),Processed At",...e.map(e=>{var s,t,a,r,n,o,i,l,d,c,u,m,p,g,h,f,x,v,_,b,w,y,j,N,S,C,k,D;return[K(e.originalData.name||""),K(e.originalData.address||""),K(e.originalData.city||""),K(e.originalData.postal_code||""),K((null===(s=e.scrapedData)||void 0===s?void 0:s.fullName)||""),K((null===(t=e.scrapedData)||void 0===t?void 0:t.fullAddress)||""),(null===(a=e.scrapedData)||void 0===a?void 0:a.status)||"unknown",K((null===(r=e.scrapedData)||void 0===r?void 0:r.phone)||""),K((null===(n=e.scrapedData)||void 0===n?void 0:n.rating)||""),K((null===(o=e.scrapedData)||void 0===o?void 0:o.reviewsCount)||""),K((null===(i=e.scrapedData)||void 0===i?void 0:i.website)||""),K((null===(l=e.scrapedData)||void 0===l?void 0:l.category)||""),K((null===(d=e.scrapedData)||void 0===d?void 0:d.latitude)||""),K((null===(c=e.scrapedData)||void 0===c?void 0:c.longitude)||""),K((null===(m=e.scrapedData)||void 0===m?void 0:null===(u=m.socialMedia)||void 0===u?void 0:u.facebook)||""),K((null===(g=e.scrapedData)||void 0===g?void 0:null===(p=g.socialMedia)||void 0===p?void 0:p.instagram)||""),K((null===(f=e.scrapedData)||void 0===f?void 0:null===(h=f.socialMedia)||void 0===h?void 0:h.twitter)||""),K((null===(v=e.scrapedData)||void 0===v?void 0:null===(x=v.socialMedia)||void 0===x?void 0:x.linkedin)||""),K((null===(b=e.scrapedData)||void 0===b?void 0:null===(_=b.socialMedia)||void 0===_?void 0:_.youtube)||""),K(J(H(null===(w=e.scrapedData)||void 0===w?void 0:w.openingHours,"Monday"))),K(J(H(null===(y=e.scrapedData)||void 0===y?void 0:y.openingHours,"Tuesday"))),K(J(H(null===(j=e.scrapedData)||void 0===j?void 0:j.openingHours,"Wednesday"))),K(J(H(null===(N=e.scrapedData)||void 0===N?void 0:N.openingHours,"Thursday"))),K(J(H(null===(S=e.scrapedData)||void 0===S?void 0:S.openingHours,"Friday"))),K(J(H(null===(C=e.scrapedData)||void 0===C?void 0:C.openingHours,"Saturday"))),K(J(H(null===(k=e.scrapedData)||void 0===k?void 0:k.openingHours,"Sunday"))),K(e.jobId||""),(null===(D=e.processingTime)||void 0===D?void 0:D.toString())||"",K(e.processedAt||"")].join(",")})],t=s.join("\n");return console.log("\uD83D\uDCC4 Generated CSV preview:",t.substring(0,500)+"..."),console.log("\uD83D\uDCCA CSV rows count:",s.length),t}(e);if(!t){console.error("No data to export");return}let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){let e=URL.createObjectURL(a);r.setAttribute("href",e),r.setAttribute("download",s),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}}function Q(e){let{results:s,batchId:t,onViewResults:n,onNewSearch:o}=e,{t:i}=P(),[d,c]=(0,r.useState)(!1),u=s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="success"}).length;s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="partial"}).length;let m=s.filter(e=>{var s;return(null===(s=e.scrapedData)||void 0===s?void 0:s.status)==="failed"||!e.scrapedData}).length,p=s.length,g=p>0?u/p*100:0,w=async()=>{if(!t){let e=new Date().toISOString().slice(0,19).replace(/:/g,"-");$(s,"scraping-results-".concat(e,".csv"));return}try{c(!0),await l.exportCleanCSV(t),console.log("✅ CSV exported successfully using backend endpoint")}catch(t){console.error("❌ Failed to export CSV from backend:",t);let e=new Date().toISOString().slice(0,19).replace(/:/g,"-");$(s,"scraping-results-".concat(e,".csv"))}finally{c(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(O,{results:s}),(0,a.jsxs)(f,{children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(v,{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-5 w-5 text-green-500"}),i("processing_complete")]}),(0,a.jsxs)(_,{children:[i("successfully_processed")," ",p," ",i("businesses_with")," ",g.toFixed(1),"% ",i("success_rate_with_details"),"(",u," ",i("successful"),", ",m," ",i("failed"),")"]})]}),(0,a.jsxs)(b,{className:"space-y-3",children:[(0,a.jsxs)(h,{onClick:n,size:"lg",className:"w-full",children:[(0,a.jsx)(q.A,{className:"h-4 w-4 mr-2"}),i("view_detailed_results")]}),(0,a.jsx)(h,{onClick:w,variant:"outline",size:"lg",className:"w-full",disabled:d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-2"}),i(t?"results.download_clean_csv":"download_csv")]})}),o&&(0,a.jsxs)(h,{onClick:o,variant:"secondary",size:"lg",className:"w-full",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),i("upload_another_csv")]})]})]})]})}var Y=t(1594),X=t(1773);function ee(e){let{errorMessage:s,onRetry:t}=e,{t:r}=P();return(0,a.jsxs)(f,{className:"mb-8 border-red-200 bg-red-50",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(v,{className:"flex items-center gap-2 text-red-700",children:[(0,a.jsx)(Y.A,{className:"h-5 w-5"}),r("error.title")]}),(0,a.jsx)(_,{className:"text-red-600",children:s})]}),(0,a.jsx)(b,{children:(0,a.jsxs)(h,{onClick:t,size:"lg",className:"w-full",variant:"outline",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 mr-2"}),r("error.retry")]})})]})}var es=t(6217),et=t(767);let ea=es.bL;es.l9;let er=es.ZL;es.bm;let en=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(es.hJ,{ref:s,className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});en.displayName=es.hJ.displayName;let eo=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(er,{children:[(0,a.jsx)(en,{}),(0,a.jsxs)(es.UC,{ref:s,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,(0,a.jsxs)(es.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(et.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eo.displayName=es.UC.displayName;let ei=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};ei.displayName="DialogHeader";let el=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(es.hE,{ref:s,className:p("text-lg font-semibold leading-none tracking-tight",t),...r})});el.displayName=es.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(es.VY,{ref:s,className:p("text-sm text-muted-foreground",t),...r})}).displayName=es.VY.displayName;var ed=t(9789),ec=t(9083);let eu=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:p("w-full caption-bottom text-sm",t),...r})})});eu.displayName="Table";let em=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:p("[&_tr]:border-b",t),...r})});em.displayName="TableHeader";let ep=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:p("[&_tr:last-child]:border-0",t),...r})});ep.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:p("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let eg=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:p("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});eg.displayName="TableRow";let eh=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:p("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});eh.displayName="TableHead";let ef=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:p("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})});ef.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:p("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var ex=t(520),ev=t(1719),e_=t(1902),eb=t(8867);let ew=ex.bL;ex.YJ;let ey=ex.WT,ej=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(ex.l9,{ref:s,className:p("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(ex.In,{asChild:!0,children:(0,a.jsx)(ev.A,{className:"h-4 w-4 opacity-50"})})]})});ej.displayName=ex.l9.displayName;let eN=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ex.PP,{ref:s,className:p("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(e_.A,{className:"h-4 w-4"})})});eN.displayName=ex.PP.displayName;let eS=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ex.wn,{ref:s,className:p("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(ev.A,{className:"h-4 w-4"})})});eS.displayName=ex.wn.displayName;let eC=r.forwardRef((e,s)=>{let{className:t,children:r,position:n="popper",...o}=e;return(0,a.jsx)(ex.ZL,{children:(0,a.jsxs)(ex.UC,{ref:s,className:p("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[(0,a.jsx)(eN,{}),(0,a.jsx)(ex.LM,{className:p("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(eS,{})]})})});eC.displayName=ex.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ex.JU,{ref:s,className:p("px-2 py-1.5 text-sm font-semibold",t),...r})}).displayName=ex.JU.displayName;let ek=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(ex.q7,{ref:s,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ex.VF,{children:(0,a.jsx)(eb.A,{className:"h-4 w-4"})})}),(0,a.jsx)(ex.p4,{children:r})]})});ek.displayName=ex.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ex.wv,{ref:s,className:p("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=ex.wv.displayName;var eD=t(1864),eA=t(6261),eR=t(8435),eF=t(865),eT=t(7661),eE=t(3518),ez=t(6967),eP=t(7054);function eV(e,s){if(!e||"object"!=typeof e)return null;for(let t of({Monday:["Monday","monday","Mon","mon"],Tuesday:["Tuesday","tuesday","Tue","tue"],Wednesday:["Wednesday","wednesday","Wed","wed"],Thursday:["Thursday","thursday","Thu","thu"],Friday:["Friday","friday","Fri","fri"],Saturday:["Saturday","saturday","Sat","sat"],Sunday:["Sunday","sunday","Sun","sun"]})[s]||[s])if(e[t])return e[t];return null}function eI(e){var s;let{data:t}=e,[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)([]),[d,c]=(0,r.useState)(""),{t:u}=P(),m=(0,r.useMemo)(()=>[{accessorKey:"originalData.name",header:e=>{let{column:s}=e;return(0,a.jsxs)(h,{variant:"ghost",onClick:()=>s.toggleSorting("asc"===s.getIsSorted()),className:"h-auto p-0 font-semibold",children:[u("table.input_name"),"asc"===s.getIsSorted()?(0,a.jsx)(eD.A,{className:"ml-2 h-4 w-4"}):"desc"===s.getIsSorted()?(0,a.jsx)(eA.A,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(eR.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{var s;let{row:t}=e,r=t.original.originalData.name,n=null===(s=t.original.scrapedData)||void 0===s?void 0:s.status;return(0,a.jsxs)("div",{className:"font-medium max-w-xs",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mb-1",children:[u("table.input_data"),":"]}),(0,a.jsx)("div",{className:"truncate font-semibold",title:r,children:r}),(0,a.jsxs)("div",{className:"mt-1",children:["success"===n&&(0,a.jsx)(C,{className:"bg-green-100 text-green-800 border-green-200 text-xs",children:"✅ Success"}),"partial"===n&&(0,a.jsx)(C,{className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⚠️ Partial"}),"failed"===n&&(0,a.jsx)(C,{className:"bg-red-100 text-red-800 border-red-200 text-xs",children:"❌ Failed"}),!n&&(0,a.jsx)(C,{className:"bg-gray-100 text-gray-800 border-gray-200 text-xs",children:"⏳ Processing"})]})]})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.fullName},id:"scraped_name",header:e=>{let{column:s}=e;return(0,a.jsxs)(h,{variant:"ghost",onClick:()=>s.toggleSorting("asc"===s.getIsSorted()),className:"h-auto p-0 font-semibold",children:[u("table.found_name"),"asc"===s.getIsSorted()?(0,a.jsx)(eD.A,{className:"ml-2 h-4 w-4"}):"desc"===s.getIsSorted()?(0,a.jsx)(eA.A,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(eR.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:s}=e,t=s.original.scrapedData;return t&&"success"===t.status?(0,a.jsxs)("div",{className:"font-medium max-w-xs",children:[(0,a.jsxs)("div",{className:"text-xs text-green-600 mb-1",children:[u("table.found_on_maps"),":"]}),(0,a.jsx)("div",{className:"truncate font-semibold",title:t.fullName,children:t.fullName}),t.fullAddress&&(0,a.jsxs)("div",{className:"text-xs text-green-600 truncate mt-1",title:t.fullAddress,children:["\uD83D\uDCCD ",t.fullAddress]})]}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Not found"})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.rating},id:"rating",header:e=>{let{column:s}=e;return(0,a.jsxs)(h,{variant:"ghost",onClick:()=>s.toggleSorting("asc"===s.getIsSorted()),className:"h-auto p-0 font-semibold",children:["⭐ Rating","asc"===s.getIsSorted()?(0,a.jsx)(eD.A,{className:"ml-2 h-4 w-4"}):"desc"===s.getIsSorted()?(0,a.jsx)(eA.A,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(eR.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.rating;return"success"===(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)&&n?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eF.A,{className:"h-4 w-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"font-medium",children:n})]}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.reviewsCount},id:"reviews_count",header:e=>{let{column:s}=e;return(0,a.jsxs)(h,{variant:"ghost",onClick:()=>s.toggleSorting("asc"===s.getIsSorted()),className:"h-auto p-0 font-semibold",children:["\uD83D\uDCCA Reviews","asc"===s.getIsSorted()?(0,a.jsx)(eD.A,{className:"ml-2 h-4 w-4"}):"desc"===s.getIsSorted()?(0,a.jsx)(eA.A,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(eR.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.reviewsCount;return"success"===(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)&&n?(0,a.jsx)("div",{className:"text-sm font-medium",children:n}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.website},id:"website",header:()=>"\uD83C\uDF10 Website",cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.website;return"success"===(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)&&n?(0,a.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm max-w-xs truncate inline-block",title:n,children:n.replace(/^https?:\/\//,"").split("/")[0]}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.category},id:"category",header:()=>"\uD83C\uDFF7️ Category",cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.category;return"success"===(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)&&n?(0,a.jsx)(C,{variant:"outline",className:"text-xs max-w-xs truncate",title:n,children:n}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.latitude},id:"latitude",header:()=>"\uD83D\uDCCD Latitude",cell:e=>{var s,t,r;let{row:n}=e,o=null===(s=n.original.scrapedData)||void 0===s?void 0:s.latitude,i=null===(t=n.original.scrapedData)||void 0===t?void 0:t.longitude;if("success"!==(null===(r=n.original.scrapedData)||void 0===r?void 0:r.status)||!o)return(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"});if(o&&i){let e="https://www.google.com/maps?q=".concat(o,",").concat(i);return(0,a.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-xs font-mono",title:"View on Google Maps: ".concat(o,", ").concat(i),children:parseFloat(o).toFixed(6)})}return(0,a.jsx)("span",{className:"text-xs font-mono",children:parseFloat(o).toFixed(6)})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.longitude},id:"longitude",header:()=>"\uD83D\uDCCD Longitude",cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.longitude;return"success"===(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)&&n?(0,a.jsx)("span",{className:"text-xs font-mono",children:parseFloat(n).toFixed(6)}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"})}},{accessorFn:e=>e.originalData.address,id:"input_address",header:()=>u("table.input_address"),cell:e=>{let{row:s}=e,t=s.original.originalData.address||"",r=s.original.originalData.city||"",n=s.original.originalData.postal_code||"";return(0,a.jsxs)("div",{className:"max-w-xs",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mb-1",children:[u("table.input_address"),":"]}),(0,a.jsx)("div",{className:"truncate font-medium",title:t||"N/A",children:t||"N/A"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground truncate mt-1",children:r&&n?"".concat(r,", ").concat(n):r||n||"N/A"})]})}},{accessorFn:e=>{var s;return null===(s=e.scrapedData)||void 0===s?void 0:s.phone},id:"phone",header:()=>u("table.found_phone"),cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.phone;return"success"!==(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)?(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"}):n?(0,a.jsx)("a",{href:"tel:".concat(n),className:"text-blue-600 hover:underline",children:n}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}},{accessorFn:e=>{var s,t,a,r;return(null===(t=e.scrapedData)||void 0===t?void 0:null===(s=t.socialMedia)||void 0===s?void 0:s.facebook)||(null===(r=e.scrapedData)||void 0===r?void 0:null===(a=r.socialMedia)||void 0===a?void 0:a.instagram)},id:"social_media",header:()=>"Social",cell:e=>{var s,t;let{row:r}=e,n=null===(s=r.original.scrapedData)||void 0===s?void 0:s.socialMedia;if("success"!==(null===(t=r.original.scrapedData)||void 0===t?void 0:t.status)||!n)return(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"N/A"});let o=[];return n.facebook&&o.push({name:"FB",url:n.facebook}),n.instagram&&o.push({name:"IG",url:n.instagram}),n.twitter&&o.push({name:"TW",url:n.twitter}),o.length>0?(0,a.jsx)("div",{className:"flex gap-1",children:o.slice(0,2).map((e,s)=>(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-xs",title:e.url,children:e.name},s))}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Monday")},id:"monday_hours",header:"Mon",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Tuesday")},id:"tuesday_hours",header:"Tue",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Wednesday")},id:"wednesday_hours",header:"Wed",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Thursday")},id:"thursday_hours",header:"Thu",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Friday")},id:"friday_hours",header:"Fri",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Saturday")},id:"saturday_hours",header:"Sat",size:120,cell:e=>{let{getValue:s}=e;return p(s())}},{accessorFn:e=>{var s;return eV(null===(s=e.scrapedData)||void 0===s?void 0:s.openingHours,"Sunday")},id:"sunday_hours",header:"Sun",size:120,cell:e=>{let{getValue:s}=e;return p(s())}}],[u]),p=e=>{if(!e)return(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:"N/A"});let s=g(e);if("Closed"===s)return(0,a.jsx)("span",{className:"text-red-500 text-xs font-medium",children:"\uD83D\uDD34 Closed"});if("00:00 - 23:59"===s)return(0,a.jsx)("span",{className:"text-green-500 text-xs font-medium",children:"\uD83D\uDFE2 24h"});let t=s.includes(" & ");return/\d{2}:\d{2}/.test(s)?(0,a.jsx)("div",{className:"text-xs font-mono whitespace-nowrap ".concat(t?"text-blue-700":"text-blue-600"),title:"Original: ".concat(e),children:s}):(0,a.jsx)("div",{className:"text-muted-foreground text-xs",title:"Original: ".concat(e),children:s})},g=e=>{if(!e)return"N/A";try{let s=e.trim(),t=s.toLowerCase();if(t.includes("cerrado")||t.includes("closed"))return"Closed";if(t.includes("24")||t.includes("siempre")||t.includes("always"))return"00:00 - 23:59";if(((s=(s=(s=s.replace(/12:(\d{2})\s*AM/gi,"00:$1").replace(/(\d{1,2}):(\d{2})\s*AM/gi,(e,s,t)=>{let a=parseInt(s);return"".concat(a.toString().padStart(2,"0"),":").concat(t)}).replace(/12:(\d{2})\s*PM/gi,"12:$1").replace(/(\d{1,2}):(\d{2})\s*PM/gi,(e,s,t)=>{let a=parseInt(s)+12;return"".concat(a.toString().padStart(2,"0"),":").concat(t)}).replace(/(\d{1,2})\s*AM/gi,(e,s)=>{let t=parseInt(s);return 12===t?"00:00":"".concat(t.toString().padStart(2,"0"),":00")}).replace(/(\d{1,2})\s*PM/gi,(e,s)=>{let t=parseInt(s);return 12===t?"12:00":"".concat((t+12).toString().padStart(2,"0"),":00")})).replace(/\s*[–—−~]\s*/g," - ").replace(/\s*to\s*/gi," - ").replace(/\s*hasta\s*/gi," - ").replace(/\s*a\s*/gi," - ").replace(/\s+/g," ").trim()).replace(/\b(\d):(\d{2})/g,"0$1:$2")).includes(",")||s.includes("&")||s.includes(" y "))&&(s=s.replace(/[,&]/g," & ").replace(/\s+y\s+/gi," & ").replace(/\s+&\s+/g," & ")),s=s.replace(/\s+/g," ").trim(),!/\d{2}:\d{2}/.test(s))return e;return s}catch(s){return console.warn("Error formatting hours:",e,s),e}},f=(0,ed.N4)({data:t,columns:m,onSortingChange:o,onColumnFiltersChange:l,onGlobalFilterChange:c,getCoreRowModel:(0,ec.HT)(),getPaginationRowModel:(0,ec.kW)(),getSortedRowModel:(0,ec.h5)(),getFilteredRowModel:(0,ec.hM)(),state:{sorting:n,columnFilters:i,globalFilter:d},initialState:{pagination:{pageSize:10}}});return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(W.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(w,{placeholder:u("table.search"),value:null!=d?d:"",onChange:e=>c(String(e.target.value)),className:"pl-8"})]})}),(0,a.jsx)("div",{className:"rounded-md border overflow-auto max-h-[60vh]",children:(0,a.jsxs)(eu,{children:[(0,a.jsx)(em,{className:"sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:f.getHeaderGroups().map(e=>(0,a.jsx)(eg,{children:e.headers.map(e=>(0,a.jsx)(eh,{children:e.isPlaceholder?null:(0,ed.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(ep,{children:(null===(s=f.getRowModel().rows)||void 0===s?void 0:s.length)?f.getRowModel().rows.map(e=>(0,a.jsx)(eg,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(ef,{children:(0,ed.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(eg,{children:(0,a.jsx)(ef,{colSpan:m.length,className:"h-24 text-center",children:u("table.noResults")})})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:u("table.rowsPerPage")}),(0,a.jsxs)(ew,{value:"".concat(f.getState().pagination.pageSize),onValueChange:e=>{f.setPageSize(Number(e))},children:[(0,a.jsx)(ej,{className:"h-8 w-[70px]",children:(0,a.jsx)(ey,{placeholder:f.getState().pagination.pageSize})}),(0,a.jsx)(eC,{side:"top",children:[10,20,30,40,50].map(e=>(0,a.jsx)(ek,{value:"".concat(e),children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,a.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:[u("table.page")," ",f.getState().pagination.pageIndex+1," ",u("table.of")," ",f.getPageCount()]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(h,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex bg-transparent",onClick:()=>f.setPageIndex(0),disabled:!f.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,a.jsx)(eT.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(h,{variant:"outline",className:"h-8 w-8 p-0 bg-transparent",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,a.jsx)(eE.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(h,{variant:"outline",className:"h-8 w-8 p-0 bg-transparent",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,a.jsx)(ez.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(h,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex bg-transparent",onClick:()=>f.setPageIndex(f.getPageCount()-1),disabled:!f.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,a.jsx)(eP.A,{className:"h-4 w-4"})]})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[u("table.showing")," ",f.getState().pagination.pageIndex*f.getState().pagination.pageSize+1," ",u("table.of")," ",Math.min((f.getState().pagination.pageIndex+1)*f.getState().pagination.pageSize,f.getFilteredRowModel().rows.length)," ",u("table.of")," ",f.getFilteredRowModel().rows.length," ",u("table.entries")]})})]})]})}function eM(e){let{isOpen:s,onClose:t,data:r}=e,{t:n}=P();return(0,a.jsx)(ea,{open:s,onOpenChange:t,children:(0,a.jsxs)(eo,{className:"max-w-7xl max-h-[90vh] flex flex-col",children:[(0,a.jsx)(ei,{className:"flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(el,{className:"text-2xl",children:[n("results.title")," (",r.length," ",n("table.entries"),")"]}),(0,a.jsxs)(h,{onClick:()=>{let e=new Date().toISOString().slice(0,19).replace(/:/g,"-");$(r,"scraping-results-".concat(e,".csv"))},variant:"outline",size:"sm",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-2"}),n("download_csv")]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto min-h-0",children:(0,a.jsx)(eI,{data:r})})]})})}var eL=t(5996),eU=t(1836);function eq(){let[e,s]=(0,r.useState)(!1),[t,n]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=async()=>{try{let e=await l.healthCheck();s(e)}catch(e){s(!1)}finally{n(!1)}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),t)?(0,a.jsxs)(C,{variant:"secondary",className:"mb-4",children:[(0,a.jsx)(eL.A,{className:"h-3 w-3 mr-1 animate-pulse"}),"Checking connection..."]}):(0,a.jsx)(C,{variant:e?"default":"secondary",className:"mb-4",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eL.A,{className:"h-3 w-3 mr-1 text-green-600"}),"Backend Connected"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eU.A,{className:"h-3 w-3 mr-1 text-orange-600"}),"Demo Mode"]})})}var eB=t(994),eG=t(1476),eW=t(1420);function eO(){var e,s,t,n,o,i,d;let{t:c}=P(),{language:u}=(0,E.o)(),[m,p]=(0,r.useState)({api:{status:"unhealthy",service:"api"},redis:{status:"unhealthy",service:"redis"},worker:{status:"unhealthy",service:"worker"},lastCheck:new Date().toISOString()}),[g,_]=(0,r.useState)(!1),w=async()=>{_(!0);try{let e=await l.checkServicesStatus();p(e)}catch(e){console.error("Error checking services:",e),p({api:{status:"unhealthy",service:"api"},redis:{status:"unhealthy",service:"redis"},worker:{status:"unhealthy",service:"worker"},lastCheck:new Date().toISOString(),error:"Error conectando con el backend"})}_(!1)};(0,r.useEffect)(()=>{w();let e=setInterval(w,3e4);return()=>clearInterval(e)},[]);let y=(e,s,t)=>{if(!e)return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-gray-400"}),"API"===s&&(0,a.jsx)(eB.A,{className:"h-4 w-4 text-muted-foreground"}),"Redis"===s&&(0,a.jsx)(eG.A,{className:"h-4 w-4 text-muted-foreground"}),"Worker"===s&&(0,a.jsx)(eW.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:s}),t&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[":",t]})]})]}),(0,a.jsx)(C,{variant:"secondary",className:"text-xs",children:"Unknown"})]});let r="healthy"===e.status,n="degraded"===e.status;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,a.jsx)(D.A,{className:"h-4 w-4 text-green-600"}):n?(0,a.jsx)(Y.A,{className:"h-4 w-4 text-yellow-600"}):(0,a.jsx)(G.A,{className:"h-4 w-4 text-red-600"}),"API"===s&&(0,a.jsx)(eB.A,{className:"h-4 w-4 text-muted-foreground"}),"Redis"===s&&(0,a.jsx)(eG.A,{className:"h-4 w-4 text-muted-foreground"}),"Worker"===s&&(0,a.jsx)(eW.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:s}),t&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[":",t]})]})]}),(0,a.jsx)(C,{variant:r?"default":n?"secondary":"destructive",className:"text-xs",children:r?c("status.connected"):n?c("status.degraded"):c("status.disconnected")})]})};return(0,a.jsxs)(f,{className:"w-full max-w-md",children:[(0,a.jsx)(x,{className:"pb-3",children:(0,a.jsxs)(v,{className:"text-sm flex items-center justify-between",children:[c("backend_services_status"),(0,a.jsx)(h,{variant:"ghost",size:"sm",onClick:w,disabled:g,children:(0,a.jsx)(X.A,{className:"h-4 w-4 ".concat(g?"animate-spin":"")})})]})}),(0,a.jsxs)(b,{className:"space-y-3",children:[y(m.api,"API","3000"),y(m.redis,"Redis","6379"),y(m.worker,"Worker"),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[c("status.last_check")," ",(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/1e3);return t<60?c("time.seconds_ago",{seconds:t}):t<3600?c("time.minutes_ago",{minutes:Math.floor(t/60)}):s.toLocaleTimeString({en:"en-US",de:"de-DE",fr:"fr-FR",it:"it-IT"}[u]||"en-US",{hour:"2-digit",minute:"2-digit"})})(m.lastCheck)]}),m.error&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4"}),m.error||c("status.error_connecting")]}),(null===(e=m.api)||void 0===e?void 0:e.status)!=="healthy"&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["\uD83D\uDCA1 ",c("status.start_backend_instruction")," ",(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"docker-compose up --build -d"})]}),(null===(s=m.api)||void 0===s?void 0:s.status)==="healthy"&&((null===(t=m.redis)||void 0===t?void 0:t.status)!=="healthy"||(null===(n=m.worker)||void 0===n?void 0:n.status)!=="healthy")&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground p-2 bg-yellow-50 border border-yellow-200 rounded",children:["⚠️ ",c("status.partial_services")]}),(null===(o=m.api)||void 0===o?void 0:o.status)==="healthy"&&(null===(i=m.redis)||void 0===i?void 0:i.status)==="healthy"&&(null===(d=m.worker)||void 0===d?void 0:d.status)==="healthy"&&(0,a.jsxs)("div",{className:"text-xs text-green-700 p-2 bg-green-50 border border-green-200 rounded",children:["✅ ",c("status.all_services_ok")]})]})]})}var eH=t(4471),eJ=t(3565);let eZ=eH.bL,eK=eH.l9;eH.YJ,eH.ZL,eH.Pb,eH.z6,r.forwardRef((e,s)=>{let{className:t,inset:r,children:n,...o}=e;return(0,a.jsxs)(eH.ZP,{ref:s,className:p("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...o,children:[n,(0,a.jsx)(ez.A,{className:"ml-auto h-4 w-4"})]})}).displayName=eH.ZP.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eH.G5,{ref:s,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=eH.G5.displayName;let e$=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(eH.ZL,{children:(0,a.jsx)(eH.UC,{ref:s,sideOffset:r,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});e$.displayName=eH.UC.displayName;let eQ=r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(eH.q7,{ref:s,className:p("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...n})});eQ.displayName=eH.q7.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:n,...o}=e;return(0,a.jsxs)(eH.H_,{ref:s,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eH.VF,{children:(0,a.jsx)(eb.A,{className:"h-4 w-4"})})}),r]})}).displayName=eH.H_.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(eH.hN,{ref:s,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eH.VF,{children:(0,a.jsx)(eJ.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=eH.hN.displayName,r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(eH.JU,{ref:s,className:p("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})}).displayName=eH.JU.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eH.wv,{ref:s,className:p("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=eH.wv.displayName;var eY=t(6122);let eX=[{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"de",name:"Deutsch",flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"it",name:"Italiano",flag:"\uD83C\uDDEE\uD83C\uDDF9"}];function e0(e){let{className:s}=e,{language:t,setLanguage:r}=(0,E.o)(),{t:n}=P(),o=eX.find(e=>e.code===t)||eX[0];return(0,a.jsxs)(eZ,{children:[(0,a.jsx)(eK,{asChild:!0,children:(0,a.jsxs)(h,{variant:"outline",size:"sm",className:"gap-2 ".concat(s),"aria-label":n("language_selector"),children:[(0,a.jsx)(eY.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-lg",children:o.flag}),(0,a.jsx)("span",{className:"hidden sm:inline",children:o.name}),(0,a.jsx)(ev.A,{className:"h-3 w-3"})]})}),(0,a.jsx)(e$,{align:"end",className:"min-w-[150px]",children:eX.map(e=>(0,a.jsxs)(eQ,{onClick:()=>r(e.code),className:"gap-3 cursor-pointer ".concat(t===e.code?"bg-accent":""),children:[(0,a.jsx)("span",{className:"text-lg",children:e.flag}),(0,a.jsx)("span",{children:e.name})]},e.code))})]})}function e2(){let[e,s]=(0,r.useState)("idle"),[t,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(null),[d,c]=(0,r.useState)({completed:0,total:0}),[u,m]=(0,r.useState)([]),[p,g]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),{t:x}=P(),v=(0,r.useCallback)(e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&"text/csv"===t.type?(n(t),g(""),m([]),c({completed:0,total:0})):t&&g(x("error.upload"))},[x]),_=(0,r.useCallback)(async()=>{if(t){s("uploading"),g("");try{console.log("\uD83D\uDE80 Starting upload process for:",t.name);let e=await l.uploadFile(t);console.log("Upload successful, batch ID:",e.batchId),i(e.batchId),s("processing")}catch(e){console.error("Upload failed:",e),g(e.message||x("error.upload")),s("error")}}},[t,x]);!function(e){let{batchId:s,isActive:t,interval:a=3e3,onStatusUpdate:n,onComplete:o,onError:i}=e,d=(0,r.useRef)(null),c=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!s||!t||c.current)return;console.log("Starting polling for batch: ".concat(s)),c.current=!0;let e=async()=>{try{let e=await l.getBatchStatus(s);console.log("Polling status update:",e),n(e),"completed"===e.status?(console.log("Batch completed successfully"),o(e),r()):"completed_with_errors"===e.status&&(console.log("Batch completed with some errors"),o(e),r())}catch(e){console.error("Polling error:",e),i("Failed to check processing status"),r()}},r=()=>{d.current&&(clearInterval(d.current),d.current=null),c.current=!1};return e(),d.current=setInterval(e,a),()=>{console.log("Cleaning up polling"),r()}},[s,t,a,n,o,i])}({batchId:o,isActive:"processing"===e,interval:3e3,onStatusUpdate:(0,r.useCallback)(e=>{console.log("Status update received:",e);let t={completed:e.progress.completed,total:e.progress.total,percentage:e.progress.percentage};c({completed:t.completed,total:t.total}),("processing"===e.status||"queued"===e.status)&&s("processing"),e.results&&e.results.length>0&&m(e.results)},[]),onComplete:(0,r.useCallback)(e=>{console.log("Processing completed:",e),e.results?(m(e.results),s("complete")):(g(x("error.processing")),s("error"))},[x]),onError:(0,r.useCallback)(e=>{console.error("Processing error:",e),g(e||x("error.processing")),s("error")},[x])});let b=(0,r.useCallback)(()=>{f(!0)},[]),w=(0,r.useCallback)(()=>{f(!1)},[]),y=(0,r.useCallback)(()=>{s("idle"),g(""),i(null),c({completed:0,total:0}),m([])},[]),j=(0,r.useCallback)(()=>{s("idle"),n(null),g(""),i(null),c({completed:0,total:0}),m([]),f(!1)},[]);return(0,a.jsxs)("div",{className:"min-h-screen bg-background p-4",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(e0,{})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4",children:x("title")}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:x("subtitle")})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(eq,{}),(0,a.jsx)(eO,{})]}),(()=>{switch(e){case"idle":case"uploading":return(0,a.jsx)(V,{file:t,onFileChange:v,onProcessFile:_,isDisabled:"uploading"===e});case"processing":return(0,a.jsx)(U,{progress:d});case"complete":return(0,a.jsx)(Q,{results:u,batchId:o||void 0,onViewResults:b,onNewSearch:j});case"error":return(0,a.jsx)(ee,{errorMessage:p,onRetry:y});default:return null}})(),(0,a.jsx)(eM,{isOpen:h,onClose:w,data:u})]})]})}},579:(e,s,t)=>{"use strict";t.d(s,{LanguageProvider:()=>o,o:()=>i});var a=t(5155),r=t(2115);let n=(0,r.createContext)(void 0);function o(e){let{children:s}=e,[t,o]=(0,r.useState)("en");return(0,a.jsx)(n.Provider,{value:{language:t,setLanguage:o},children:s})}function i(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[513,441,517,358],()=>s(9781)),_N_E=e.O()}]);