# ğŸ•·ï¸ ### ğŸš€ **Perform### ğŸš€ **Performance and Architecture**
- âš¡ **Modern Backend**: Node.js + Fastify + BullMQ + Redis
- ğŸ”„ **Asynchronous Processing**: Work queues with BullMQ
- ğŸ“Š **Real-Time Monitoring**: Service status (API:3000, Redis:6379, Worker)
- ğŸ” **Smart Validation**: CSV validation before processing
- ğŸ“Š **Complete Dashboard**: Detailed progress trackingn### ğŸŒ **Complete Multilingual System**
- ğŸ‡ºğŸ‡¸ **English** - English (Primary language)
- ğŸ‡©ğŸ‡ª **German** - Deutsch
- ğŸ‡«ğŸ‡· **French** - FranÃ§ais  
- ğŸ‡®ğŸ‡¹ **Italian** - Italiano
- ğŸ”„ **Dynamic Switching**: Real-time flag selector
- ğŸ“… **Localized Formatting**: Dates and timestamps by languaget### ğŸ“‹ **CSV Validation and Processing**
- âœ… **Pre-validation**: Structure verification before processing
- ğŸ“¥ **CSV Templates**: Download templates with correct format
- ğŸš¨ **Detailed Feedback**: Errors, warnings, and information
- ğŸ“Š **Column Detection**: Automatic field recognition
- ğŸš¨ **Error Handling**: Robust management of invalid files**
- âš¡ **Modern Backend**: Node.js + Fastify + BullMQ + Redis
- ğŸ”„ **Asynchronous Processing**: Work queues with BullMQ
- ğŸ“Š **Real-Time Monitoring**: Service status (API:3000, Redis:6379, Worker)
- ğŸ” **Smart Validation**: CSV validation before processing
- ğŸ“Š **Complete Dashboard**: Detailed progress trackingr### ğŸŒ **Complete Multilingual System**
- ğŸ‡ºğŸ‡¸ **English** - English (Primary language)
- ğŸ‡©ğŸ‡ª **German** - Deutsch
- ğŸ‡«ğŸ‡· **French** - FranÃ§ais  
- ğŸ‡®ğŸ‡¹ **Italian** - Italiano
- ğŸ”„ **Dynamic Switching**: Real-time flag selector
- ğŸ“… **Localized Formatting**: Dates and timestamps by languager### ğŸ“‹ **CSV Validation and Processing**
- âœ… **Pre-validation**: Structure verification before processing
- ğŸ“¥ **CSV Templates**: Download templates with correct format
- ğŸš¨ **Detailed Feedback**: Errors, warnings, and information
- ğŸ“Š **Column Detection**: Automatic field recognition
- ğŸš¨ **Error Handling**: Robust management of invalid files

A modern and complete web application for massive business data web scraping from Google Maps, with multilingual support, real-time CSV validation, backend service monitoring, and advanced data export. Compatible with high-performance **Node.js/Fastify/BullMQ** backend.

## âœ¨ Key Features

### ğŸš€ **Rendimiento y Arquitectura**
- âš¡ **Backend Moderno**: Node.js + Fastify + BullMQ + Redis
- ğŸ”„ **Procesamiento AsÃ­ncrono**: Colas de trabajo con BullMQ
- ğŸ“Š **Monitoreo en Tiempo Real**: Estado de servicios (API:3000, Redis:6379, Worker)
- ğŸ” **ValidaciÃ³n Inteligente**: ValidaciÃ³n de CSV antes del procesamiento
- ï¿½ **Dashboard Completo**: Seguimiento detallado del progreso

### ğŸŒ **Sistema Multiidioma Completo**
- ğŸ‡ºğŸ‡¸ **InglÃ©s** - English (Idioma principal)
- ğŸ‡©ğŸ‡ª **AlemÃ¡n** - Deutsch
- ï¿½ğŸ‡· **FrancÃ©s** - FranÃ§ais  
- ï¿½ğŸ‡®ğŸ‡¹ **Italiano** - Italiano
- ğŸ”„ **Cambio DinÃ¡mico**: Selector con banderas en tiempo real
- ï¿½ **Formateo Localizado**: Fechas y timestamps segÃºn idioma

### ï¿½ **ValidaciÃ³n y Procesamiento CSV**
- âœ… **ValidaciÃ³n Previa**: VerificaciÃ³n de estructura antes de procesar
- ï¿½ **Plantillas CSV**: Descarga de templates con formato correcto
- ğŸš¨ **RetroalimentaciÃ³n Detallada**: Errores, advertencias e informaciÃ³n
- ğŸ“Š **DetecciÃ³n de Columnas**: Reconocimiento automÃ¡tico de campos
- ï¿½ **Manejo de Errores**: GestiÃ³n robusta de archivos invÃ¡lidos

### ğŸ“ˆ **Advanced Data Visualization**
- ğŸ“Š **Interactive Table**: TanStack React Table with advanced filters
- ğŸ” **Smart Search**: Real-time filtering by multiple fields
- ğŸ“„ **Complete Export**: CSV with original and scraped data
- ğŸ• **Schedule Formatting**: Automatic conversion to HH:MM - HH:MM format
- ğŸ“± **Responsive Design**: Sticky headers and optimized scrolling
- ğŸ¯ **Data Comparison**: Side-by-side view of original vs found data

## ğŸ› ï¸ Technology Stack

### Frontend
- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + CSS Modules
- **Components**: shadcn/ui + Radix UI
- **Icons**: Lucide React
- **Table**: TanStack React Table v8
- **HTTP Client**: Axios
- **State**: React Context API
- **Internationalization**: Custom i18n system
- **Validation**: Zod + Custom CSV validation

### Backend Compatibility
- **Runtime**: Node.js 18+
- **Framework**: Fastify
- **Work Queue**: BullMQ
- **Database**: Redis
- **Containers**: Docker + Docker Compose
- **API**: RESTful endpoints (/api/v1/*)

## ğŸš€ Quick Start

### ğŸ“‹ Prerequisites
- **Node.js 18+** 
- **npm or yarn**
- **Docker & Docker Compose** (for backend)
- **Node.js/Fastify Backend** running on port 3000
- **Redis** on port 6379
- **Active worker processes**

### ğŸ”§ Automatic Installation

**Windows:**
```bash
./setup.bat
```

**macOS/Linux:**
```bash
chmod +x setup.sh
./setup.sh
```

### ğŸ“ Manual Installation

1. **Clone the repository**
```bash
git clone https://github.com/Dbuitrago15/Web-Scrapping-Frontend.git
cd Web-Scrapping-Frontend
```

2. **Install dependencies**
```bash
npm install
```

3. **Configure environment variables**
```bash
cp .env.example .env.local
```

4. **Start in development mode**
```bash
npm run dev
```

5. **Open browser**
```
http://localhost:3000
```

## ğŸ¯ Application Usage

### 1. **Verify System Status**
- Verify that all services are active in the top right panel
- **API (Port 3000)**: âœ… Connected
- **Redis (Port 6379)**: âœ… Connected  
- **Worker**: âœ… Active

### 2. **Prepare and Validate Data**
- Download CSV template by clicking "Download CSV Template"
- Create CSV file with required columns:
```csv
name,address,city
Restaurant ABC,123 Main St,New York
Coffee Shop XYZ,456 Oak Ave,Los Angeles
```

### 3. **Automatic Validation**
- Select CSV file
- **Automatic validation** will show:
  - âœ… **Valid/Invalid**
  - ğŸ“Š **Number of rows**
  - ğŸš¨ **Errors** (if any)
  - âš ï¸ **Warnings**
  - â„¹ï¸ **Detected columns**

### 4. **Processing**
- Click "Process File" (only if file is valid)
- Monitor progress in real-time
- View processing statistics

### 5. **Explore Results**
- **Interactive table** with original and scraped data
- **Advanced filters** by name, address, phone, etc.
- **Real-time search**
- **Side-by-side comparison** of data
- **Formatted schedules** (HH:MM - HH:MM)

### 6. **Export Data**
- Click "Export Results" 
- Download complete CSV with:
  - Original input data
  - Scraped data from Google Maps
  - Ratings, reviews, phones, websites
  - Formatted operating hours

### 7. **Change Language**
- Use selector in top right corner
- Instant change without page reload
- Complete support in 4 languages

## ğŸ“Š Data Structure

### Input (Required CSV)
```csv
name,address,city
Restaurant ABC,123 Main St,New York
Coffee Shop XYZ,456 Oak Ave,Los Angeles
```

### Complete Output Structure
```typescript
interface BusinessData {
  // ğŸ“¥ Original Data (from CSV)
  originalData: {
    name: string,
    address: string, 
    city: string
  },
  
  // ğŸ” Scraped Data (from Google Maps)
  scrapedData: {
    name: string,                    // Found name
    rating: number,                  // 1.0 - 5.0
    reviewsCount: number,            // Number of reviews
    phone: string,                   // Phone number
    address: string,                 // Complete address
    website: string,                 // Website
    category: string,                // Business category
    
    // â° Formatted Hours
    monday_hours: string,            // "09:00 - 17:00"
    tuesday_hours: string,
    wednesday_hours: string,
    thursday_hours: string,
    friday_hours: string,
    saturday_hours: string,
    sunday_hours: string,
    
    // ğŸ¯ Metadata
    foundOnMaps: boolean,            // If found on Maps
    status: 'found' | 'not_found' | 'error'
  }
}
```

### CSV Validation
```typescript
interface CSVValidationResult {
  isValid: boolean,
  rowCount: number,
  columns: string[],               // Detected columns
  errors: string[],                // Critical errors
  warnings: string[],              // Warnings
  info: string[]                   // Additional information
}
```

## ğŸ—‚ï¸ Project Structure

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx               # Main layout with providers
â”‚   â”œâ”€â”€ page.tsx                 # Main page with state
â”‚   â””â”€â”€ globals.css              # Global styles + Tailwind
â”œâ”€â”€ components/                   # React Components
â”‚   â”œâ”€â”€ ui/                      # Base components (shadcn/ui)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ data-table.tsx           # Advanced interactive table
â”‚   â”œâ”€â”€ file-uploader-card.tsx   # CSV upload and validation
â”‚   â”œâ”€â”€ backend-status-card.tsx  # Service monitoring
â”‚   â”œâ”€â”€ processing-status-card.tsx # Real-time progress
â”‚   â”œâ”€â”€ completion-card.tsx      # Completed results
â”‚   â”œâ”€â”€ error-card.tsx          # Error handling
â”‚   â”œâ”€â”€ language-selector.tsx    # Multilingual selector
â”‚   â”œâ”€â”€ results-modal.tsx       # Results modal
â”‚   â””â”€â”€ business-card-detail.tsx # Business details
â”œâ”€â”€ contexts/                    # React Contexts
â”‚   â””â”€â”€ language-context.tsx    # Language context
â”œâ”€â”€ hooks/                       # Custom Hooks
â”‚   â””â”€â”€ use-translation.ts      # Complete i18n system
â”œâ”€â”€ lib/                        # Utilities and APIs
â”‚   â”œâ”€â”€ api.ts                  # API client with validation
â”‚   â”œâ”€â”€ csv-export.ts           # CSV export
â”‚   â””â”€â”€ utils.ts                # General utilities
â””â”€â”€ types/                      # TypeScript definitions
    â””â”€â”€ index.ts                # Main interfaces
```

## ğŸ”§ Available Scripts

### Frontend
```bash
npm run dev          # Development server (port 3000 or next available)
npm run build        # Build for production  
npm run start        # Production server
npm run lint         # ESLint linter with TypeScript rules
npm run type-check   # Complete TypeScript verification
npm run clean        # Clean .next and node_modules
```

### Backend (Docker)
```bash
# Start all services
docker-compose up -d

# View logs in real-time
docker-compose logs -f

# Restart services
docker-compose restart

# Stop all services
docker-compose down

# Complete rebuild
docker-compose up --build -d
```

### Development
```bash
# Development with hot-reload
npm run dev & docker-compose up -d

# Verify services
curl http://localhost:3000/health
curl http://localhost:3000/health/redis
curl http://localhost:3000/health/worker
```

## ğŸŒ Backend API

The application connects with the Node.js/Fastify backend:

### ğŸ”— **Main Endpoints**
- **Base URL**: `http://localhost:3000/api/v1`
- **Architecture**: RESTful API

#### File Processing
```typescript
POST /api/v1/scraping-batch          # Create new batch
GET  /api/v1/scraping-batch/{id}     # Batch status
GET  /api/v1/scraping-batch/{id}/csv # Download results
```

#### Service Monitoring
```typescript
GET /health                    # General API status
GET /health/redis             # Redis status
GET /health/worker            # Worker status
```

#### Validation and Templates
```typescript
POST /api/v1/validate-csv     # Validate CSV file
GET  /api/v1/csv-template     # Download template
```

### ğŸ—ï¸ **Backend Architecture**
- **API Server**: Fastify on port 3000
- **Message Broker**: Redis on port 6379
- **Queue System**: BullMQ for asynchronous processing
- **Worker Processes**: Multiple workers for scraping
- **Containerization**: Docker Compose for orchestration

## ğŸ¯ Advanced Features

### ğŸ” **Smart CSV Validation**
```typescript
// Automatic validations
âœ… Correct column structure
âœ… Valid file format  
âœ… Encoding detection
âœ… Required data validation
âš ï¸ Warnings for optional data
ğŸš¨ Critical errors preventing processing
```

### ğŸ“Š **Real-Time Service Monitoring**
- **Visual Status**: Connection indicators per service
- **Timestamps**: Last verification with relative time
- **Auto-refresh**: Verification every 30 seconds
- **Diagnostics**: Specific messages by error type

### ğŸŒ **Internationalization System**
```typescript
// i18n features
ğŸ”„ Dynamic change without reload
ğŸ“… Date formatting by locale
ğŸ• Localized relative time
ğŸ¯ Smart fallback to English
ğŸ“ Parameter interpolation
```

### ğŸ“ˆ **Advanced Data Table**
- **Virtual Scrolling**: Optimized performance for thousands of rows
- **Sticky Headers**: Improved navigation
- **Global Filters**: Real-time search
- **Multi-column Sorting**: Advanced classification
- **Visual Comparison**: Original vs scraped data

### â° **Smart Schedule Formatting**
```typescript
// Automatic conversions
"Monday: 9:00 AM - 5:00 PM" â†’ "09:00 - 17:00"
"Tue: 8:30 AM - 6:30 PM"    â†’ "08:30 - 18:30"
"Closed"                     â†’ "Closed"
"24 hours"                   â†’ "24 hours"
```

## ğŸš¨ Diagnostics and Troubleshooting

### Diagnostic Scripts

**Windows:**
```bash
./diagnose.bat
```

**macOS/Linux:**
```bash
chmod +x diagnose.sh
./diagnose.sh
```

### Common Issues

1. **ğŸ”´ Backend Services Unavailable**
   ```bash
   # Verify services
   docker-compose ps
   
   # Restart services
   docker-compose down
   docker-compose up --build -d
   ```
   - API must be on port 3000
   - Redis must be on port 6379
   - Worker processes must be active

2. **ğŸ“„ CSV Validation Error**
   - Download official template from the application
   - Verify columns are: `name,address,city`
   - Check file encoding (UTF-8 recommended)
   - Remove empty rows or incomplete data

3. **ğŸŒ Language Issues**
   - Clear browser cache
   - Verify language selector is visible
   - Reload page if there are context issues

4. **ğŸ“Š Table Not Loading Data**
   - Verify CSV file was processed correctly
   - Check browser console for errors
   - Confirm there is valid data in the response

5. **âš¡ Performance Issues**
   - Verify Redis is working correctly
   - Check worker logs for errors
   - Consider reducing CSV file size (< 1000 rows)

6. **ğŸ”§ TypeScript Errors**
   ```bash
   npm run type-check
   npm install --save-dev @types/node
   ```

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.


- [Next.js](https://nextjs.org/) - React Framework
- [Tailwind CSS](https://tailwindcss.com/) - CSS Framework
- [shadcn/ui](https://ui.shadcn.com/) - UI Components
- [Lucide](https://lucide.dev/) - Icons
- [TanStack Table](https://tanstack.com/table) - Data Table

